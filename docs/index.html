<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Denna Specification</title>
  <style>
    :root {
      --bg: #0f1117;
      --bg-card: #161b27;
      --bg-card-alt: #1a2035;
      --bg-code: #0d1117;
      --border: #2a3044;
      --border-light: #1e2740;
      --text: #e2e8f0;
      --text-muted: #8892a4;
      --text-faint: #4a5568;
      --accent: #4f8ef7;
      --accent-light: #7eb3ff;
      --accent-dim: #1a3060;
      --green: #34d399;
      --green-dim: #0d2e22;
      --yellow: #fbbf24;
      --purple: #a78bfa;
      --font-sans: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      --font-mono: 'SF Mono', 'Fira Code', 'Roboto Mono', monospace;
      --max-width: 860px;
      --radius: 8px;
    }
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body { background: var(--bg); color: var(--text); font-family: var(--font-sans); font-size: 16px; line-height: 1.7; }

    /* Nav */
    nav { position: sticky; top: 0; z-index: 100; background: rgba(15,17,23,0.92); backdrop-filter: blur(12px); border-bottom: 1px solid var(--border); padding: 0 24px; height: 56px; display: flex; align-items: center; justify-content: space-between; }
    .nav-brand { font-weight: 700; font-size: 15px; color: var(--text); text-decoration: none; letter-spacing: -0.02em; }
    .nav-brand span { color: var(--accent); }
    .nav-links { display: flex; align-items: center; gap: 24px; }
    .nav-links a { color: var(--text-muted); text-decoration: none; font-size: 14px; transition: color 0.15s; }
    .nav-links a:hover { color: var(--text); }
    .nav-badge { background: var(--accent-dim); color: var(--accent-light); font-size: 11px; font-weight: 600; padding: 2px 8px; border-radius: 99px; font-family: var(--font-mono); }

    /* Layout */
    .container { max-width: var(--max-width); margin: 0 auto; padding: 0 24px; }
    section { padding: 80px 0; }
    section + section { border-top: 1px solid var(--border-light); }

    /* Hero */
    .hero { padding: 100px 0 80px; text-align: center; }
    .hero-eyebrow { display: inline-block; font-size: 12px; font-weight: 600; letter-spacing: 0.1em; text-transform: uppercase; color: var(--accent); margin-bottom: 24px; }
    .hero h1 { font-size: clamp(32px, 5vw, 52px); font-weight: 800; line-height: 1.15; letter-spacing: -0.03em; color: #fff; margin-bottom: 20px; }
    .hero h1 em { font-style: normal; background: linear-gradient(135deg, var(--accent-light), var(--purple)); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; }
    .hero-sub { font-size: 18px; color: var(--text-muted); max-width: 580px; margin: 0 auto 40px; line-height: 1.6; }
    .hero-actions { display: flex; gap: 12px; justify-content: center; flex-wrap: wrap; }
    .btn { display: inline-flex; align-items: center; gap: 8px; padding: 10px 20px; border-radius: var(--radius); font-size: 14px; font-weight: 600; text-decoration: none; transition: all 0.15s; border: none; cursor: pointer; }
    .btn-primary { background: var(--accent); color: #fff; }
    .btn-primary:hover { background: var(--accent-light); }
    .btn-outline { background: transparent; color: var(--text-muted); border: 1px solid var(--border); }
    .btn-outline:hover { color: var(--text); border-color: var(--text-muted); }

    /* Section headings */
    .section-label { font-size: 12px; font-weight: 600; letter-spacing: 0.1em; text-transform: uppercase; color: var(--accent); margin-bottom: 12px; }
    .section-title { font-size: clamp(24px, 3vw, 36px); font-weight: 700; letter-spacing: -0.02em; color: #fff; margin-bottom: 16px; line-height: 1.2; }
    .section-subtitle { font-size: 17px; color: var(--text-muted); max-width: 600px; line-height: 1.6; }

    /* Problem grid */
    .problem-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap: 16px; margin-top: 40px; }
    .problem-card { background: var(--bg-card); border: 1px solid var(--border); border-radius: var(--radius); padding: 24px; }
    .problem-icon { font-size: 22px; margin-bottom: 12px; }
    .problem-card h3 { font-size: 15px; font-weight: 600; color: #fff; margin-bottom: 8px; }
    .problem-card p { font-size: 14px; color: var(--text-muted); line-height: 1.6; }

    /* Mental models */
    .models-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-top: 40px; }
    @media (max-width: 640px) { .models-grid { grid-template-columns: 1fr; } }
    .model-card { background: var(--bg-card); border: 1px solid var(--border); border-radius: var(--radius); padding: 28px; position: relative; overflow: hidden; }
    .model-card::before { content: ''; position: absolute; top: 0; left: 0; right: 0; height: 2px; }
    .model-card.blue::before { background: var(--accent); }
    .model-card.green::before { background: var(--green); }
    .model-card.purple::before { background: var(--purple); }
    .model-card.yellow::before { background: var(--yellow); }
    .model-analogy { font-size: 12px; font-weight: 600; letter-spacing: 0.08em; text-transform: uppercase; margin-bottom: 10px; }
    .model-card.blue .model-analogy { color: var(--accent); }
    .model-card.green .model-analogy { color: var(--green); }
    .model-card.purple .model-analogy { color: var(--purple); }
    .model-card.yellow .model-analogy { color: var(--yellow); }
    .model-card h3 { font-size: 17px; font-weight: 700; color: #fff; margin-bottom: 10px; line-height: 1.3; }
    .model-card p { font-size: 14px; color: var(--text-muted); line-height: 1.65; }

    /* How it works */
    .steps { display: grid; grid-template-columns: repeat(3, 1fr); gap: 0; margin-top: 40px; }
    @media (max-width: 640px) { .steps { grid-template-columns: 1fr; } }
    .step { background: var(--bg-card); border: 1px solid var(--border); padding: 28px; }
    .step:first-child { border-radius: var(--radius) 0 0 var(--radius); }
    .step:last-child { border-radius: 0 var(--radius) var(--radius) 0; }
    .step + .step { border-left: none; }
    @media (max-width: 640px) { .step { border-radius: 0 !important; border-left: 1px solid var(--border) !important; } .step + .step { border-top: none; } .step:first-child { border-radius: var(--radius) var(--radius) 0 0 !important; } .step:last-child { border-radius: 0 0 var(--radius) var(--radius) !important; } }
    .step-num { width: 28px; height: 28px; background: var(--accent-dim); color: var(--accent-light); border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 12px; font-weight: 700; margin-bottom: 16px; font-family: var(--font-mono); }
    .step h3 { font-size: 15px; font-weight: 700; color: #fff; margin-bottom: 8px; }
    .step p { font-size: 14px; color: var(--text-muted); line-height: 1.6; }

    /* Before/After */
    .compare { display: grid; grid-template-columns: 1fr 1fr; gap: 16px; margin-top: 40px; }
    @media (max-width: 640px) { .compare { grid-template-columns: 1fr; } }
    .compare-panel { border-radius: var(--radius); overflow: hidden; border: 1px solid var(--border); }
    .compare-header { padding: 10px 16px; font-size: 12px; font-weight: 600; letter-spacing: 0.06em; text-transform: uppercase; display: flex; align-items: center; gap: 8px; }
    .compare-header.before { background: #1a1208; color: var(--yellow); border-bottom: 1px solid var(--border); }
    .compare-header.after { background: var(--green-dim); color: var(--green); border-bottom: 1px solid var(--border); }
    .compare-dot { width: 8px; height: 8px; border-radius: 50%; }
    .compare-header.before .compare-dot { background: var(--yellow); }
    .compare-header.after .compare-dot { background: var(--green); }

    /* Ecosystem */
    .ecosystem-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 16px; margin-top: 40px; }
    @media (max-width: 640px) { .ecosystem-grid { grid-template-columns: 1fr; } }
    .ecosystem-card { background: var(--bg-card); border: 1px solid var(--border); border-radius: var(--radius); padding: 28px; }
    .ecosystem-card h3 { font-size: 16px; font-weight: 700; color: #fff; margin-bottom: 6px; }
    .ecosystem-card .eco-sub { font-size: 13px; color: var(--text-muted); margin-bottom: 16px; }
    .kind-list { list-style: none; display: flex; flex-direction: column; gap: 8px; }
    .kind-list li { font-size: 13px; font-family: var(--font-mono); color: var(--text-muted); padding: 6px 10px; background: var(--bg-code); border-radius: 4px; border: 1px solid var(--border-light); }
    .kind-list li span { color: var(--accent-light); }

    /* Callout */
    .callout { border-radius: var(--radius); padding: 16px 20px; margin: 20px 0; font-size: 14px; line-height: 1.65; border-left: 3px solid; }
    .callout.blue { background: var(--accent-dim); border-color: var(--accent); color: #aac4f0; }
    .callout strong { color: #fff; }

    /* Spec content */
    .spec-content h2 { font-size: 26px; font-weight: 700; letter-spacing: -0.02em; color: #fff; margin: 48px 0 16px; padding-bottom: 12px; border-bottom: 1px solid var(--border); }
    .spec-content h2:first-child { margin-top: 0; }
    .spec-content h3 { font-size: 18px; font-weight: 600; color: #fff; margin: 32px 0 12px; }
    .spec-content h4 { font-size: 15px; font-weight: 600; color: var(--text); margin: 24px 0 8px; }
    .spec-content p { color: var(--text-muted); margin-bottom: 16px; line-height: 1.7; }
    .spec-content ul, .spec-content ol { color: var(--text-muted); padding-left: 24px; margin-bottom: 16px; }
    .spec-content li { margin-bottom: 6px; line-height: 1.65; }
    .spec-content a { color: var(--accent-light); text-decoration: none; }
    .spec-content a:hover { text-decoration: underline; }

    /* Code */
    pre { background: var(--bg-code); border: 1px solid var(--border); border-radius: var(--radius); padding: 20px; overflow-x: auto; margin: 16px 0; font-size: 13px; line-height: 1.6; }
    code { font-family: var(--font-mono); font-size: 0.875em; color: var(--text); }
    p code, li code { background: var(--bg-card); border: 1px solid var(--border); padding: 1px 5px; border-radius: 4px; color: var(--accent-light); font-size: 0.85em; }
    .json-key { color: #7eb3ff; }
    .json-str { color: #a5d6a7; }
    .json-num { color: #ffb74d; }
    .json-bool { color: #f48fb1; }
    .json-comment { color: #546e7a; font-style: italic; }

    /* Tables */
    .table-wrap { overflow-x: auto; margin: 16px 0; }
    table { width: 100%; border-collapse: collapse; font-size: 14px; }
    th { text-align: left; padding: 10px 14px; background: var(--bg-card-alt); color: var(--text-muted); font-size: 12px; font-weight: 600; letter-spacing: 0.05em; text-transform: uppercase; border-bottom: 1px solid var(--border); }
    td { padding: 10px 14px; border-bottom: 1px solid var(--border-light); color: var(--text-muted); vertical-align: top; }
    td:first-child { font-family: var(--font-mono); font-size: 13px; color: var(--accent-light); }
    tr:last-child td { border-bottom: none; }

    /* Badges */
    .badge { display: inline-block; font-size: 11px; font-weight: 600; padding: 2px 7px; border-radius: 4px; font-family: var(--font-mono); }
    .badge-required { background: #1a2e1a; color: var(--green); border: 1px solid #1e3e1e; }
    .badge-optional { background: var(--bg-card-alt); color: var(--text-faint); border: 1px solid var(--border); }

    /* FAQ */
    .faq-item { border: 1px solid var(--border); border-radius: var(--radius); margin-bottom: 12px; overflow: hidden; }
    .faq-q { padding: 18px 20px; font-size: 15px; font-weight: 600; color: #fff; cursor: pointer; display: flex; justify-content: space-between; align-items: center; background: var(--bg-card); transition: background 0.15s; }
    .faq-q:hover { background: var(--bg-card-alt); }
    .faq-a { padding: 0 20px; max-height: 0; overflow: hidden; transition: max-height 0.3s ease, padding 0.3s ease; font-size: 14px; color: var(--text-muted); line-height: 1.7; background: var(--bg-card); }
    .faq-item.open .faq-a { max-height: 500px; padding: 16px 20px 20px; border-top: 1px solid var(--border); }
    .faq-chevron { transition: transform 0.3s; color: var(--text-muted); flex-shrink: 0; }
    .faq-item.open .faq-chevron { transform: rotate(180deg); }

    /* Footer */
    footer { border-top: 1px solid var(--border); padding: 32px 24px; text-align: center; font-size: 13px; color: var(--text-faint); }
    footer a { color: var(--text-muted); text-decoration: none; }
    footer a:hover { color: var(--text); }
  </style>
</head>
<body>

<!-- Nav -->
<nav>
  <a href="#" class="nav-brand">denna<span>.</span>io</a>
  <div class="nav-links">
    <a href="#why-denna">Why Denna</a>
    <a href="#how-it-works">How it works</a>
    <a href="#ecosystem">Schemas</a>
    <a href="#specification">Specification</a>
    <a href="https://github.com/denna-spec/denna-spec" target="_blank">GitHub</a>
    <span class="nav-badge">v1.0.0</span>
  </div>
</nav>

<!-- Hero -->
<div class="hero">
  <div class="container">
    <span class="hero-eyebrow">Open Standard ¬∑ Built on JSON Schema</span>
    <h1>Give your protocol's data<br>a <em>permanent home</em></h1>
    <p class="hero-sub">
      Denna Spec is an open standard for storing protocol configuration, parameters,
      and governance documents as structured, validated, and publicly versioned JSON files.
    </p>
    <div class="hero-actions">
      <a href="#how-it-works" class="btn btn-primary">See how it works</a>
      <a href="#specification" class="btn btn-outline">Read the specification</a>
    </div>
  </div>
</div>

<!-- The Problem -->
<section id="why-denna">
  <div class="container">
    <p class="section-label">The Problem</p>
    <h2 class="section-title">Critical data living in the wrong places</h2>
    <p class="section-subtitle">
      Every DeFi protocol manages data that is too important to live in a spreadsheet ‚Äî
      wallet addresses, rate spreads, eligibility rules, governance articles.
      Yet that is exactly where most of it ends up.
    </p>
    <div class="problem-grid">
      <div class="problem-card">
        <div class="problem-icon">üìã</div>
        <h3>No audit trail</h3>
        <p>When a rate changes, who changed it? When? Why? Spreadsheets and Notion pages don't answer these questions. Git does.</p>
      </div>
      <div class="problem-card">
        <div class="problem-icon">‚ö†Ô∏è</div>
        <h3>No validation</h3>
        <p>A typo in a wallet address or an out-of-range rate can go unnoticed for weeks. Without a schema, there is no automated check.</p>
      </div>
      <div class="problem-card">
        <div class="problem-icon">üîå</div>
        <h3>No interoperability</h3>
        <p>Every team that wants to consume your parameters builds a custom integration. There is no standard format to build tools against.</p>
      </div>
      <div class="problem-card">
        <div class="problem-icon">üîí</div>
        <h3>Data you don't own</h3>
        <p>Notion, Google Sheets, and Confluence store your data on their servers. Your protocol's parameters shouldn't depend on a SaaS vendor.</p>
      </div>
    </div>
  </div>
</section>

<!-- Mental Models -->
<section id="mental-models">
  <div class="container">
    <p class="section-label">Mental Models</p>
    <h2 class="section-title">Four ways to think about Denna</h2>
    <p class="section-subtitle">
      Not a developer? Here are four analogies that capture what Denna does and why it matters
      for protocols and financial systems.
    </p>
    <div class="models-grid">

      <div class="model-card blue">
        <div class="model-analogy">Like IBAN for bank accounts</div>
        <h3>A universal standard for protocol data</h3>
        <p>
          Before IBAN, every bank had its own account number format. After IBAN,
          any bank software anywhere in the world could validate an account number and understand
          its structure without needing custom logic per country or institution.
          Denna does the same for protocol data: any tool that understands Denna can read
          and validate any Denna file, regardless of which protocol created it.
        </p>
      </div>

      <div class="model-card green">
        <div class="model-analogy">Like Git for your parameters</div>
        <h3>Every change is reviewed, approved, and permanent</h3>
        <p>
          When a developer changes code, it goes through a pull request: a description of
          what changed, a review by a teammate, and a permanent record of who approved it and when.
          Denna brings this same discipline to data. When a rate changes or a wallet address is
          updated, it goes through a pull request ‚Äî reviewed, automatically validated, and
          recorded forever in a public history that anyone can audit.
        </p>
      </div>

      <div class="model-card purple">
        <div class="model-analogy">Inspired by the AT Protocol</div>
        <h3>Plug and play ‚Äî build once, use everywhere</h3>
        <p>
          AT Protocol powers Bluesky. Its core insight: standardize how data is structured,
          and any app built on that standard gains interoperability for free.
          Denna applies this idea to protocol configuration. Build a governance UI once
          and it works with any protocol that publishes Denna files.
          Build a risk dashboard once and it connects to any Denna-powered parameter store ‚Äî
          no custom integration per protocol.
        </p>
      </div>

      <div class="model-card yellow">
        <div class="model-analogy">The constitution stored as code</div>
        <h3>Governance documents that tools can read</h3>
        <p>
          Sky's Atlas is a constitutional document for a DeFi protocol.
          Today it is a website ‚Äî readable by humans but invisible to software.
          With Denna, each article and clause becomes a structured data point
          that governance tools can query, reference, and validate against.
          The constitution becomes machine-readable without losing human readability.
          Any change to any article goes through a pull request with full review history.
        </p>
      </div>

    </div>
  </div>
</section>

<!-- How It Works -->
<section id="how-it-works">
  <div class="container">
    <p class="section-label">How It Works</p>
    <h2 class="section-title">Three pieces, working together</h2>
    <p class="section-subtitle">
      Denna Spec is built on GitHub and JSON Schema ‚Äî two technologies already trusted
      by millions of developers and organizations worldwide.
    </p>

    <div class="steps">
      <div class="step">
        <div class="step-num">1</div>
        <h3>Write a <code>.denna-spec.json</code> file</h3>
        <p>
          Your data ‚Äî wallet addresses, rates, governance articles ‚Äî goes into a structured
          JSON file. It includes a <code>metadata</code> block that identifies what it is
          and a <code>$schema</code> pointer that says what rules it must follow.
        </p>
      </div>
      <div class="step">
        <div class="step-num">2</div>
        <h3>A schema defines the rules</h3>
        <p>
          A JSON Schema file defines exactly what your data must look like: which fields
          are required, what format addresses must use, what range a rate must fall within.
          Use official Denna schemas or write your own.
        </p>
      </div>
      <div class="step">
        <div class="step-num">3</div>
        <h3>GitHub validates every change</h3>
        <p>
          A GitHub Action runs on every pull request and checks every
          <code>.denna-spec.json</code> file against its schema automatically.
          Invalid changes are rejected. Valid ones go through your normal review and
          approval process, creating a permanent audit trail.
        </p>
      </div>
    </div>

    <!-- Before / After comparison -->
    <div style="margin-top: 48px;">
      <h3 style="color: #fff; font-size: 18px; font-weight: 600; margin-bottom: 8px; letter-spacing: -0.01em;">From a markdown table to structured data</h3>
      <p style="color: var(--text-muted); font-size: 14px; margin-bottom: 20px;">The same rate parameters ‚Äî before Denna and after.</p>
      <div class="compare">
        <div class="compare-panel">
          <div class="compare-header before">
            <div class="compare-dot"></div>
            Before &mdash; rates.md
          </div>
          <pre style="margin:0; border-radius:0; border:none; font-size:12px;"><code><span class="json-comment">## SSR Spread

| Parameter        | Value | Description     |
|------------------|-------|-----------------|
| SUSDS_SPREAD_BPS | 30    | sUSDS spread    |
| Fallback SSR     | 4.5%  | used when...    |
| BASE_RATE        | 4.66% | fallback rate   |

No validation. No history.
No tool can parse this reliably.</span></code></pre>
        </div>
        <div class="compare-panel">
          <div class="compare-header after">
            <div class="compare-dot"></div>
            After &mdash; rates.denna-spec.json
          </div>
          <pre style="margin:0; border-radius:0; border:none; font-size:12px;"><code>{
  <span class="json-key">"$schema"</span>: <span class="json-str">"../schemas/rates.schema.json"</span>,
  <span class="json-key">"metadata"</span>: {
    <span class="json-key">"id"</span>: <span class="json-str">"shared-rates"</span>,
    <span class="json-key">"kind"</span>: <span class="json-str">"io.denna.defi.rates"</span>,
    <span class="json-key">"lastUpdated"</span>: <span class="json-str">"2026-02-21"</span>
  },
  <span class="json-key">"rates"</span>: {
    <span class="json-key">"ssrSpread"</span>: { <span class="json-key">"value"</span>: <span class="json-num">30</span>, <span class="json-key">"unit"</span>: <span class="json-str">"bps"</span> },
    <span class="json-key">"fallbackSsr"</span>: { <span class="json-key">"value"</span>: <span class="json-num">4.5</span>, <span class="json-key">"unit"</span>: <span class="json-str">"percent"</span> }
  }
}</code></pre>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Schema Ecosystem -->
<section id="ecosystem">
  <div class="container">
    <p class="section-label">Schema Ecosystem</p>
    <h2 class="section-title">Official schemas and your own</h2>
    <p class="section-subtitle">
      Denna Spec's schema ecosystem is open. Use official schemas from Denna as a starting point,
      extend them, or build entirely custom ones for your protocol ‚Äî no central registry required.
    </p>
    <div class="ecosystem-grid">
      <div class="ecosystem-card">
        <h3>Official &mdash; Denna</h3>
        <p class="eco-sub">Maintained at <code>schemas.denna.io</code>. Uses the <code>io.denna.*</code> namespace.</p>
        <ul class="kind-list">
          <li><span>io.denna.defi</span>.prime-config</li>
          <li><span>io.denna.defi</span>.rates</li>
          <li><span>io.denna.defi</span>.address-registry</li>
          <li><span>io.denna.governance</span>.document</li>
        </ul>
      </div>
      <div class="ecosystem-card">
        <h3>Custom &mdash; Your Protocol</h3>
        <p class="eco-sub">Your own schemas using your reverse-domain namespace. Host them anywhere accessible by URL.</p>
        <ul class="kind-list">
          <li><span>io.sky</span>.prime.config</li>
          <li><span>io.sky</span>.atlas.article</li>
          <li><span>com.spark</span>.pnl.params</li>
          <li><span>org.myprotocol</span>.governance.vote</li>
        </ul>
      </div>
    </div>
    <div class="callout blue">
      <strong>Kind identifiers use a reverse-domain convention.</strong>
      The first two segments identify the schema publisher (<code>io.denna</code>, <code>io.sky</code>, <code>com.spark</code>).
      This makes kinds globally unique without a central registry ‚Äî the same approach used by AT Protocol.
    </div>
  </div>
</section>

<!-- Full Specification -->
<section id="specification">
  <div class="container">
    <p class="section-label">The Standard</p>
    <h2 class="section-title">Denna Specification 1.0.0</h2>
    <p class="section-subtitle" style="margin-bottom: 40px;">
      The complete technical specification. Uses RFC&nbsp;2119 keywords (MUST, SHOULD, MAY).
    </p>

    <div class="spec-content">

      <h2>Summary</h2>
      <p>
        Denna Spec is a convention for expressing any structured data as self-describing JSON files validated
        by <a href="https://json-schema.org/">JSON Schema</a>.
        A Denna file (<code>.denna-spec.json</code>) is a JSON document containing a metadata block
        that identifies what it is, and any number of domain-defined fields containing the actual data.
        Its structure is validated by a standard JSON Schema referenced via the <code>$schema</code> field.
      </p>
      <p>
        Denna does not replace JSON Schema ‚Äî it is a thin orchestration layer on top of it.
        JSON Schema handles all structural validation. Denna defines the conventions JSON Schema
        alone cannot express: file naming, a standard metadata block, semantic value types,
        a schema namespace convention, and organizational guidance.
      </p>

      <h2>1. File Naming</h2>
      <ol>
        <li>A Denna file MUST use the extension <code>.denna-spec.json</code>.</li>
        <li>The file name SHOULD be descriptive and use kebab-case. Examples: <code>config.denna-spec.json</code>, <code>pnl-params.denna-spec.json</code>, <code>stablecoin-addresses.denna-spec.json</code>.</li>
        <li>Files intended to be validated by automated tooling MUST use the <code>.denna-spec.json</code> extension to be discovered by validators and CI pipelines.</li>
      </ol>

      <h2>2. File Structure</h2>
      <p>A Denna file MUST be a valid JSON object containing the following top-level fields:</p>
      <pre><code>{
  <span class="json-key">"$schema"</span>: <span class="json-str">"path/or/uri/to/schema.json"</span>,
  <span class="json-key">"metadata"</span>: { }
}</code></pre>
      <p>
        Beyond <code>$schema</code> and <code>metadata</code>, all other fields are defined by the
        domain schema referenced in <code>$schema</code>. The domain schema MAY define any additional
        fields using any names.
      </p>

      <h3>2.1. <code>$schema</code> <span class="badge badge-required">REQUIRED</span></h3>
      <p>
        A string containing a relative path or absolute URI to a JSON Schema file that validates the
        entire Denna file. This is standard JSON Schema behavior ‚Äî it enables IDE auto-completion,
        inline validation, and tells validators which schema to use.
        The referenced schema MUST validate the complete file including <code>metadata</code> and
        all domain content fields.
      </p>

      <h3>2.2. <code>metadata</code> <span class="badge badge-required">REQUIRED</span></h3>
      <p>An object describing the file's identity and provenance.</p>
      <div class="table-wrap">
        <table>
          <thead><tr><th>Field</th><th>Type</th><th>Required</th><th>Description</th></tr></thead>
          <tbody>
            <tr><td>id</td><td>string</td><td><span class="badge badge-required">REQUIRED</span></td><td>Unique kebab-case identifier within the repository. Pattern: <code>^[a-z0-9]+(-[a-z0-9]+)*$</code></td></tr>
            <tr><td>name</td><td>string</td><td><span class="badge badge-required">REQUIRED</span></td><td>Human-readable display name.</td></tr>
            <tr><td>kind</td><td>string</td><td><span class="badge badge-required">REQUIRED</span></td><td>Reverse-domain kind identifier. See Section 3.</td></tr>
            <tr><td>description</td><td>string</td><td><span class="badge badge-optional">OPTIONAL</span></td><td>Brief description of the file contents.</td></tr>
            <tr><td>version</td><td>string</td><td><span class="badge badge-optional">OPTIONAL</span></td><td>Semantic Version of the data (e.g., <code>1.0.0</code>). SHOULD be incremented when data changes.</td></tr>
            <tr><td>lastUpdated</td><td>date</td><td><span class="badge badge-optional">OPTIONAL</span></td><td>ISO 8601 date when data was last verified (<code>YYYY-MM-DD</code>).</td></tr>
            <tr><td>tags</td><td>string[]</td><td><span class="badge badge-optional">OPTIONAL</span></td><td>Freeform tags for categorization and filtering.</td></tr>
            <tr><td>source</td><td>object</td><td><span class="badge badge-optional">OPTIONAL</span></td><td>Provenance. MAY contain <code>repository</code> (string) and <code>references</code> (array; use <code>file:line</code> format, e.g., <code>src/lib/constants.ts:17</code>).</td></tr>
          </tbody>
        </table>
      </div>

      <h3>2.3. Domain Content Fields</h3>
      <p>Any fields beyond <code>$schema</code> and <code>metadata</code> are defined by the domain schema. Common naming conventions:</p>
      <div class="table-wrap">
        <table>
          <thead><tr><th>Field Name</th><th>Typical Use</th></tr></thead>
          <tbody>
            <tr><td>parameters</td><td>Numeric configuration values, rates, flags</td></tr>
            <tr><td>addresses</td><td>Contract or token address registries</td></tr>
            <tr><td>chains</td><td>Blockchain network configuration</td></tr>
            <tr><td>allocations</td><td>Asset positions or fund deployments</td></tr>
            <tr><td>content</td><td>Document body or article text</td></tr>
            <tr><td>sections</td><td>Governance document sections or clauses</td></tr>
          </tbody>
        </table>
      </div>

      <h2>3. Kind Identifiers</h2>
      <p>
        The <code>metadata.kind</code> field is a reverse-domain identifier that uniquely classifies
        the type of data. It follows a naming convention inspired by
        <a href="https://atproto.com/specs/nsid">AT Protocol NSIDs</a>.
      </p>
      <h3>3.1. Format</h3>
      <p>A <code>kind</code> MUST consist of at least three dot-separated segments. The first two SHOULD identify the schema publisher in reverse-domain order.</p>
      <pre><code>io.denna.defi.prime-config
^^ ^^^^^ ^^^^ ^^^^^^^^^^^^
|  |      |    name
|  |      namespace
|  domain
TLD</code></pre>
      <p>Pattern: <code>^[a-z][a-z0-9]*(\.[a-z][a-z0-9-]*){2,}$</code></p>

      <h3>3.2. Namespace Conventions</h3>
      <div class="table-wrap">
        <table>
          <thead><tr><th>Namespace</th><th>Usage</th></tr></thead>
          <tbody>
            <tr><td>io.denna.*</td><td>Official schemas published by Denna</td></tr>
            <tr><td>io.denna.defi.*</td><td>DeFi protocol schemas (prime config, rates, allocations)</td></tr>
            <tr><td>io.denna.governance.*</td><td>Governance and document schemas</td></tr>
            <tr><td>io.denna.finance.*</td><td>Financial parameter schemas</td></tr>
            <tr><td>{org-domain}.*</td><td>Custom schemas by an organization</td></tr>
          </tbody>
        </table>
      </div>

      <h2>4. Semantic Value Types</h2>
      <p>Reusable type definitions are available at <a href="https://spec.denna.io/schemas/v1/denna-types.schema.json">spec.denna.io/schemas/v1/denna-types.schema.json</a>. Import via <code>$ref</code> in domain schemas.</p>

      <h3>4.1. Address</h3>
      <pre><code>{ <span class="json-key">"value"</span>: <span class="json-str">"0x1601843c5e9bc251a3272907010afa41fa18347e"</span>, <span class="json-key">"format"</span>: <span class="json-str">"evm"</span> }
{ <span class="json-key">"value"</span>: <span class="json-str">"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v"</span>, <span class="json-key">"format"</span>: <span class="json-str">"solana"</span> }</code></pre>
      <div class="table-wrap">
        <table>
          <thead><tr><th>Format</th><th>Description</th></tr></thead>
          <tbody>
            <tr><td>evm</td><td>Ethereum and all EVM-compatible chains (Base, Arbitrum, Optimism, Avalanche‚Ä¶)</td></tr>
            <tr><td>solana</td><td>Solana. Base58-encoded public key.</td></tr>
            <tr><td>cosmos</td><td>Cosmos SDK chains. Bech32 with human-readable prefix.</td></tr>
            <tr><td>bitcoin</td><td>Bitcoin P2PKH, P2SH, or Bech32.</td></tr>
            <tr><td>aptos</td><td>Aptos. 32-byte hex with <code>0x</code> prefix.</td></tr>
            <tr><td>sui</td><td>Sui. 32-byte hex with <code>0x</code> prefix.</td></tr>
            <tr><td>tron</td><td>Tron. Base58Check starting with <code>T</code>.</td></tr>
          </tbody>
        </table>
      </div>

      <h3>4.2. Rate</h3>
      <pre><code>{ <span class="json-key">"value"</span>: <span class="json-num">30</span>, <span class="json-key">"unit"</span>: <span class="json-str">"bps"</span> }      <span class="json-comment">// basis points</span>
{ <span class="json-key">"value"</span>: <span class="json-num">4.5</span>, <span class="json-key">"unit"</span>: <span class="json-str">"percent"</span> }  <span class="json-comment">// percentage</span></code></pre>

      <h3>4.3. Amount</h3>
      <pre><code>{ <span class="json-key">"value"</span>: <span class="json-num">1000000000</span>, <span class="json-key">"currency"</span>: <span class="json-str">"USD"</span> }</code></pre>

      <h3>4.4. Duration</h3>
      <pre><code>{ <span class="json-key">"value"</span>: <span class="json-num">24</span>, <span class="json-key">"unit"</span>: <span class="json-str">"months"</span> }
{ <span class="json-key">"value"</span>: <span class="json-num">7</span>, <span class="json-key">"unit"</span>: <span class="json-str">"days"</span> }</code></pre>

      <h3>4.5. Date</h3>
      <pre><code><span class="json-str">"2026-01-01"</span>  <span class="json-comment">// ISO 8601 ‚Äî YYYY-MM-DD</span></code></pre>

      <h3>4.6. Chain Identifier</h3>
      <pre><code><span class="json-str">"ethereum"</span>  <span class="json-comment">// lowercase: base, arbitrum, optimism, solana, avalanche‚Ä¶</span></code></pre>

      <h2>5. Domain Schemas</h2>
      <p>A domain schema is a JSON Schema file that defines the complete structure of a Denna file for a specific use case. Domain schemas:</p>
      <ol>
        <li>MUST validate the full file including <code>$schema</code>, <code>metadata</code>, and all domain content fields.</li>
        <li>SHOULD import shared type definitions via <code>$ref</code> from <code>https://spec.denna.io/schemas/v1/denna-types.schema.json</code>.</li>
        <li>SHOULD use JSON Schema draft 2020-12 or later.</li>
        <li>SHOULD be versioned at stable paths (e.g., <code>schemas/v1/</code>, <code>schemas/v2/</code>).</li>
        <li>MAY be stored in the same repository as data files or published separately at a stable URL.</li>
      </ol>

      <h2>6. Schema Ecosystem</h2>
      <p>Denna Spec is designed around an open schema ecosystem. Any organization can publish schemas. No central registry is required.</p>
      <ul>
        <li><strong>Official Denna schemas</strong> ‚Äî maintained at <code>schemas.denna.io</code>, using the <code>io.denna.*</code> namespace.</li>
        <li><strong>Custom schemas</strong> ‚Äî any organization can publish schemas using their reverse-domain namespace, hosted anywhere accessible by URL.</li>
        <li><strong>Local schemas</strong> ‚Äî schemas stored in the same repository as data files, referenced with relative paths.</li>
      </ul>

      <h2>7. Versioning</h2>
      <ol>
        <li>The Denna Specification follows <a href="https://semver.org/">Semantic Versioning</a>. Current version: <strong>1.0.0</strong>.</li>
        <li>Individual data files SHOULD include <code>metadata.version</code> to track data changes over time.</li>
        <li>Domain schemas SHOULD be versioned at stable paths (<code>schemas/v1/</code>, <code>schemas/v2/</code>).</li>
      </ol>

      <h2>8. Validation</h2>
      <ol>
        <li>A Denna file is valid if and only if it passes JSON Schema validation against the schema in its <code>$schema</code> field.</li>
        <li>Validators MUST resolve the <code>$schema</code> field and validate the entire file against the resolved schema.</li>
        <li>If <code>$schema</code> is missing or cannot be resolved, the file MUST be treated as invalid.</li>
      </ol>

      <h2>Complete Example</h2>

      <h3>Prime configuration ‚Äî <code>spark/config.denna-spec.json</code></h3>
      <pre><code>{
  <span class="json-key">"$schema"</span>: <span class="json-str">"https://schemas.denna.io/v1/defi/prime-config.schema.json"</span>,
  <span class="json-key">"metadata"</span>: {
    <span class="json-key">"id"</span>: <span class="json-str">"spark-config"</span>,
    <span class="json-key">"name"</span>: <span class="json-str">"Spark"</span>,
    <span class="json-key">"kind"</span>: <span class="json-str">"io.denna.defi.prime-config"</span>,
    <span class="json-key">"version"</span>: <span class="json-str">"1.0.0"</span>,
    <span class="json-key">"lastUpdated"</span>: <span class="json-str">"2026-02-21"</span>,
    <span class="json-key">"source"</span>: { <span class="json-key">"repository"</span>: <span class="json-str">"primes-parameters"</span>, <span class="json-key">"references"</span>: [<span class="json-str">"src/lib/constants.ts:12"</span>] }
  },
  <span class="json-key">"chains"</span>: [
    {
      <span class="json-key">"id"</span>: <span class="json-str">"ethereum"</span>,
      <span class="json-key">"almProxy"</span>: { <span class="json-key">"value"</span>: <span class="json-str">"0x1601843c5e9bc251a3272907010afa41fa18347e"</span>, <span class="json-key">"format"</span>: <span class="json-str">"evm"</span> },
      <span class="json-key">"vaultProxy"</span>: { <span class="json-key">"value"</span>: <span class="json-str">"0x691a6c29e9e96dd897718305427ad5d534db16ba"</span>, <span class="json-key">"format"</span>: <span class="json-str">"evm"</span> },
      <span class="json-key">"features"</span>: { <span class="json-key">"alm"</span>: <span class="json-bool">true</span>, <span class="json-key">"psm3"</span>: <span class="json-bool">false</span> }
    }
  ],
  <span class="json-key">"allocations"</span>: {
    <span class="json-key">"ethereum"</span>: [
      {
        <span class="json-key">"contract"</span>: { <span class="json-key">"value"</span>: <span class="json-str">"0x4dedf26112b3ec8ec46e7e31ea5e123490b05b8b"</span>, <span class="json-key">"format"</span>: <span class="json-str">"evm"</span> },
        <span class="json-key">"protocol"</span>: <span class="json-str">"SparkLend"</span>,
        <span class="json-key">"type"</span>: <span class="json-str">"atoken"</span>,
        <span class="json-key">"underlying"</span>: <span class="json-str">"DAI"</span>
      }
    ]
  }
}</code></pre>

      <h3>Validation workflow ‚Äî <code>.github/workflows/validate.yml</code></h3>
      <pre><code>name: Validate Denna Spec Files

on:
  pull_request:
    paths: ['**/*.denna-spec.json', 'schemas/**']

jobs:
  validate:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - uses: denna-spec/denna-spec@v1
        with:
          patterns: "**/*.denna-spec.json"
          exclude: "_template/**"</code></pre>

    </div>
  </div>
</section>

<!-- FAQ -->
<section id="faq">
  <div class="container">
    <p class="section-label">FAQ</p>
    <h2 class="section-title">Frequently asked questions</h2>
    <div style="margin-top: 32px;">

      <div class="faq-item">
        <div class="faq-q" onclick="toggleFaq(this)">
          What is the relationship between Denna and JSON Schema?
          <svg class="faq-chevron" width="16" height="16" viewBox="0 0 16 16" fill="none"><path d="M4 6l4 4 4-4" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/></svg>
        </div>
        <div class="faq-a">
          Denna Spec is built on top of JSON Schema. JSON Schema handles all structural validation ‚Äî types, required fields, patterns, enums, nested objects. Denna Spec adds the conventions JSON Schema cannot express on its own: file naming, a standard metadata block, semantic value types, and a schema ecosystem for interoperability. Think of JSON Schema as the validation engine, and Denna Spec as the convention layer that makes files self-describing and interoperable across tools and protocols.
        </div>
      </div>

      <div class="faq-item">
        <div class="faq-q" onclick="toggleFaq(this)">
          Can I use Denna for governance documents, not just parameters?
          <svg class="faq-chevron" width="16" height="16" viewBox="0 0 16 16" fill="none"><path d="M4 6l4 4 4-4" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/></svg>
        </div>
        <div class="faq-a">
          Yes. Denna Spec is not limited to configuration parameters. It is designed for any structured data: governance documents, constitutional articles, asset registries, financial reports, or any information your protocol needs to track and audit. The domain schema defines what fields your file contains ‚Äî use <code>sections</code> for governance documents, <code>rates</code> for financial parameters, <code>chains</code> for protocol configuration.
        </div>
      </div>

      <div class="faq-item">
        <div class="faq-q" onclick="toggleFaq(this)">
          Do I need to be a developer to use Denna?
          <svg class="faq-chevron" width="16" height="16" viewBox="0 0 16 16" fill="none"><path d="M4 6l4 4 4-4" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/></svg>
        </div>
        <div class="faq-a">
          The infrastructure ‚Äî schemas and validation ‚Äî is set up by developers once. After that, editing a <code>.denna-spec.json</code> file to change a rate or update an address is straightforward. Tools built on top of Denna (like governance UIs) can provide a no-code editing experience, so non-developers can propose changes through a web interface without ever touching JSON directly.
        </div>
      </div>

      <div class="faq-item">
        <div class="faq-q" onclick="toggleFaq(this)">
          What happens when someone makes an invalid change?
          <svg class="faq-chevron" width="16" height="16" viewBox="0 0 16 16" fill="none"><path d="M4 6l4 4 4-4" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/></svg>
        </div>
        <div class="faq-a">
          The GitHub Action runs automatically on every pull request and validates every changed <code>.denna-spec.json</code> file against its schema. If a change is invalid ‚Äî a malformed address, a missing required field, a rate in the wrong format ‚Äî the check fails and the PR cannot be merged until the issue is corrected. This catches errors before they can reach production systems.
        </div>
      </div>

      <div class="faq-item">
        <div class="faq-q" onclick="toggleFaq(this)">
          Do I need to use official Denna schemas?
          <svg class="faq-chevron" width="16" height="16" viewBox="0 0 16 16" fill="none"><path d="M4 6l4 4 4-4" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/></svg>
        </div>
        <div class="faq-a">
          No. Official Denna schemas are a convenience ‚Äî a starting point so you do not have to write a schema from scratch for common use cases. You can define your own schemas, reference official Denna types as building blocks, host them at any stable URL, and use them in your files. The only requirement is that your <code>.denna-spec.json</code> files have a <code>$schema</code> field pointing to a valid JSON Schema.
        </div>
      </div>

      <div class="faq-item">
        <div class="faq-q" onclick="toggleFaq(this)">
          How is this related to AT Protocol?
          <svg class="faq-chevron" width="16" height="16" viewBox="0 0 16 16" fill="none"><path d="M4 6l4 4 4-4" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/></svg>
        </div>
        <div class="faq-a">
          Denna Spec is inspired by AT Protocol's core design principle: standardize how data is described once, and any application built on that standard gains interoperability for free. AT Protocol standardizes social data (posts, profiles) so any social app can read it. Denna Spec standardizes protocol data (parameters, addresses, governance documents) so any governance or analytics tool can work with it. The key difference is storage: AT Protocol uses specialized servers; Denna Spec uses Git repositories ‚Äî which are already where most protocol teams work.
        </div>
      </div>

    </div>
  </div>
</section>

<!-- Footer -->
<footer>
  <div class="container">
    <p>
      Denna Specification 1.0.0 &nbsp;&middot;&nbsp;
      <a href="https://spec.denna.io/schemas/v1/denna-types.schema.json">Type definitions</a> &nbsp;&middot;&nbsp;
      <a href="https://github.com/denna-spec/denna-spec">GitHub</a> &nbsp;&middot;&nbsp;
      <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a>
    </p>
  </div>
</footer>

<script>
  function toggleFaq(el) {
    el.parentElement.classList.toggle('open');
  }
</script>

</body>
</html>
